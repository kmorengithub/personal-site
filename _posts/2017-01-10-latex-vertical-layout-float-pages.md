---
title: Вертикальный макет плавающих страниц
categories: latex
---

[Оригинальный текст](http://www.tex.ac.uk/FAQ-vertposfp.html)

По умолчанию LaTeX вертикально центрирует плавающие объекты на
странице плавающих объектов.  Автор настоящей статьи не единственный,
кто не любит такое расположение.  К несчастью, контроль расположения
позиций "закопан" во внутренних командах LaTeX и требуется
определённая осторожность в смене макета.

Страницы плавающих объектов используют три длины LaTeX (TeX skips) для
определения макета со следующими значениями по умолчанию:
- `\@fptop = 0pt + 1fil` --- определяет расстояние от верхней границы
    страницы до верхней границы первого плавающего объекта;
- `\@fpsep = 8pt + 2fil` --- определяет расстояние между плавающими
  объектами;
- `\@fpbot = 0pt + 1fil` --- определяет расстояние от нижней границы
    последнего плавающего объекта до нижней границы страницы.

В действительности, операция вывода помещает пропуск `\@fpsep` над
каждым плавающим объектом, поэтому за `\@fptop` всегда следует коррекция
этого поведения.

Таким образом, интервал (или "клей") всегда расширяется, чтобы
охватить всё пространство, не занятое плавающими объектами, но если
плавающих объектов более одного на странице, интервал расширится вдвое
по сравнению с расстояниями сверху и снизу.

Основным требованием часто является размещение плавающих объектов
начиная от верхней границы страницы (а не в середине, как случается с
одним плавающим объектом на странице).  Исправить подобное поведение
можно с помощью команды в преамбуле

{% highlight latex %}
    \makeatletter
    \setlength{\@fptop}{0pt}
    \makeatother
{% endhighlight %}

Вы можете обнаружить, что эти установки размещают плавающий объект
слишком высоко на странице, поэтому можете скорректировать это
значение и вместо `0pt` указать `5pt` --- среднюю разницу между
`\topskip` и высотой обычного текста (`10pt`).

Учтите, что эти установки являются глобальными и должны быть заданы в
файле класса документа или в преамбуле; установка для единственного
случая будет гораздо более сложной.

И всё же, почему LaTeX размещает плавающие объекты именно в середине
страницы?  Часто случается, что плавающий объект становится последним
в структурной единице книги или статьи, например, в главе, и поэтому
*должен* быть размещён вверху, а пустое поле внизу будет указывать на
окончание главы.  Но если страница плавающих объектов встречается в
середине структурной единицы, то размещение в центре будет наиболее
"правильным".  Если в этом случае разместить объект начиная от
верхнего края, то пустое поле внизу будет выглядеть не самым лучшим
образом.

Кроме того, установка такого поля внизу приведёт к тому, что последний
плавающий объект будет установлен с отступом снизу.  Из соображений
симметрии тогда лучше переопределить и нижнюю границу

{% highlight latex %}
    \makeatletter
    \setlength{\@fptop}{0pt}
	\setlength{\@fpbot}{0pt}
    \makeatother
{% endhighlight %}
